---
title: "A cool title"
output: 
  flexdashboard::flex_dashboard:
    orientation: rows
    social : menu
    vertical_layout: fill
runtime: shiny
---

```{r, echo = FALSE, message = FALSE}
source(here::here("scripts/setup.R"))
# Set the working directory to the correct path
setwd(here::here(""))
source(here::here("scripts/data.R"))
```

arpes
Page 1
=====================================

Column {data-width=650}
-------------------------------------

### Chart 1

```{r}
head(df_v)
```

```{r global, include=FALSE}
# load data in 'global' chunk so it can be shared by all users of the dashboard
```

Inputs {.sidebar}
-----------------------------------------------------------------------

```{r}
# Plotting the data with ggplot2, showing the trend within each year
passenger_cars_processed <- df_v %>%
  filter(VehicleType == "Passenger car") %>%
  mutate(YearMonth = floor_date(Date, "month")) %>%
  group_by(YearMonth) %>%
  summarise(Count = sum(Count, na.rm = TRUE)) %>%
  ungroup() %>%
  mutate(Year = year(YearMonth), 
         Month = factor(month(YearMonth), levels = 1:12, labels = month.abb)) %>%
  arrange(Year, Month)

p_seaso_2 <- ggplot(passenger_cars_processed, aes(x = Month, y = Count, group = Year, color = as.factor(Year))) +
  geom_smooth(se = FALSE, method = "loess", span = 0.5, size = 0.7) +
  labs(title = "Monthly Passenger Car Registrations by Year",
       x = "Month",
       y = "Number of Passenger Cars Registered",
       color = "Year") +
  theme_minimal() +
  scale_color_viridis_d() +
  theme(legend.position = "bottom", axis.text.x = element_text(angle = 45, hjust = 1))

# Convert to an interactive plotly object
interactive_plot_seaso_2 <- ggplotly(p_seaso_2, width = 600, height = 400)

# Adjust plotly settings if needed, such as margins or layout
interactive_plot_seaso_2 <- interactive_plot_seaso_2 %>%
  layout(margin = list(l = 40, r = 10, b = 40, t = 40), # Adjust margins
         legend = list(orientation = "h", x = 0, xanchor = "left", y = -0.2)) # Adjust legend position

# Display the interactive plot
interactive_plot_seaso_2
```

texttexttext

Row
-----------------------------------------------------------------------

### Heatmap
    
```{r}

```


Row {.tabset}
-----------------------------------------------------------------------

### Parallel Coordinates
    
```{r}

```
   
### Data for Selected Cluster

```{r}

```

Page 2
=====================================
Column {data-width=650}
-------------------------------------

### chart x
```{r}

```


Column
-------------------------------------

###chart y

```{r}

```

Page 3
=====================================

Page 4
=====================================